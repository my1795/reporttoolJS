{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\musyil\\\\reportengine\\\\src\\\\components\\\\ViewUser.js\";\nimport React, { Component } from 'react';\nimport { Form, Row, Col, Container, Button } from 'react-bootstrap';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter, dateFilter } from 'react-bootstrap-table2-filter';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\n\nvar axios = require('axios');\n\nvar ViewUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewUser, _Component);\n\n  function ViewUser(props) {\n    var _this;\n\n    _classCallCheck(this, ViewUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewUser).call(this, props));\n    _this.state = {\n      columns: [{\n        dataField: 'adminname',\n        text: 'Admin Name',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }, {\n        dataField: 'username',\n        text: 'User Name',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }, {\n        dataField: 'userpassword',\n        text: 'User Password',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }],\n      users: [],\n      selectedUsers: []\n    };\n    _this.deleteUser = _this.deleteUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteUsers = _this.deleteUsers.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewUser, [{\n    key: \"assignData\",\n    value: function assignData() {\n      var _this2 = this;\n\n      fetch('http://localhost:4000/allusers').then(function (response) {\n        return response.json();\n      }).then(function (_ref) {\n        var data = _ref.data;\n        console.log(data);\n\n        _this2.setState({\n          users: data\n        });\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"deleteUsers\",\n    value: function deleteUsers() {\n      var copySelected = this.state.selectedUsers;\n      copySelected.forEach(function (user) {\n        deleteUser(user);\n      });\n      var l = this.state.selectedUsers.length;\n      var r = l > 1 ? \"users\" : \"user\";\n\n      if (window.confirm(\"Are you sure to delete \" + l + \" \" + r + \" ?\")) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.state.selectedUsers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var user = _step.value;\n            this.deleteUser(user);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        this.assignData();\n        this.forceUpdate();\n      } else {\n        this.setState({\n          selectedUsers: []\n        });\n      }\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(user) {\n      axios.post(\"http://localhost:4000/users/remove\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: 'POST',\n        data: {\n          userName: user\n        }\n      }).then(function (response) {\n        // handle success\n        console.log(response.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {});\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.assignData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var selectRow = {\n        mode: 'checkbox',\n        hideSelectAll: true,\n        clickToSelect: true,\n        bgColor: function bgColor(row, rowIndex) {\n          return rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF';\n        },\n        clickToEdit: true,\n        onSelect: function onSelect(row, isSelect, rowIndex, e) {\n          if (isSelect === true) {\n            var copiedUsers = _this3.state.selectedUsers;\n            copiedUsers.push(row.username);\n\n            _this3.setState({\n              selectedUsers: copiedUsers\n            });\n          }\n\n          if (isSelect === false) {\n            var _copiedUsers = _this3.state.selectedUsers;\n\n            _copiedUsers.splice(_this3.state.selectedUsers.indexOf(row.username), 1);\n\n            _this3.setState({\n              selectedUsers: _copiedUsers\n            });\n          }\n\n          console.log(row.rowKey);\n        }\n      };\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: {\n          span: 6,\n          offset: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"danger\",\n        size: \"lg\",\n        active: true,\n        onClick: this.deleteUsers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Delete Selected Users\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: {\n          span: 6,\n          offset: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        keyField: \"username\",\n        selectRow: selectRow,\n        data: this.state.users,\n        columns: this.state.columns,\n        pagination: paginationFactory(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ViewUser;\n}(Component);\n\nexport default ViewUser;","map":{"version":3,"sources":["D:\\Users\\musyil\\reportengine\\src\\components\\ViewUser.js"],"names":["React","Component","Form","Row","Col","Container","Button","BootstrapTable","filterFactory","textFilter","dateFilter","paginationFactory","axios","require","ViewUser","props","state","columns","dataField","text","headerAlign","sort","filter","headerStyle","backgroundColor","width","users","selectedUsers","deleteUser","bind","deleteUsers","fetch","then","response","json","data","console","log","setState","catch","err","error","copySelected","forEach","user","l","length","r","window","confirm","assignData","forceUpdate","post","headers","method","userName","selectRow","mode","hideSelectAll","clickToSelect","bgColor","row","rowIndex","clickToEdit","onSelect","isSelect","e","copiedUsers","push","username","splice","indexOf","rowKey","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Row,Col ,Container,Button} from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory, { textFilter, dateFilter} from 'react-bootstrap-table2-filter';\r\n\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css'\r\nconst axios = require('axios');\r\nclass ViewUser extends Component {\r\n\r\n\r\nconstructor(props){\r\n  super(props);\r\n  this.state = {\r\n    columns: [\r\n        {\r\n          dataField: 'adminname',\r\n          text: 'Admin Name',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n        {\r\n          dataField: 'username',\r\n          text: 'User Name',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n        {\r\n          dataField: 'userpassword',\r\n          text: 'User Password',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n       ],\r\n       users : [],\r\n       selectedUsers: []\r\n  }\r\nthis.deleteUser = this.deleteUser.bind(this);\r\nthis.deleteUsers = this.deleteUsers.bind(this);\r\n\r\n}\r\nassignData(){\r\n\r\n  fetch('http://localhost:4000/allusers')\r\n  .then(response => response.json())\r\n  .then(({ data }) => {\r\n    console.log(data);\r\n    this.setState({users : data})\r\n    \r\n  })\r\n  .catch(err => console.error()\r\n  )\r\n }\r\ndeleteUsers(){\r\n  var copySelected = this.state.selectedUsers;\r\n   copySelected.forEach(user =>{\r\n     deleteUser(user);\r\n   })\r\n   let l = this.state.selectedUsers.length;\r\n   let r = (l > 1) ? \"users\" : \"user\";\r\n   if (window.confirm(\"Are you sure to delete \" + l + \" \" + r + \" ?\")) {\r\n     for (let user of this.state.selectedUsers) {\r\n       this.deleteUser(user);\r\n     }\r\n     this.assignData();\r\n     this.forceUpdate();\r\n   } else {\r\n     this.setState({ selectedUsers: [] });\r\n   }\r\n}\r\ndeleteUser(user){\r\n    axios.post(`http://localhost:4000/users/remove`,{\r\n      headers: {\"Content-Type\": \"application/json\"},\r\n      method: 'POST',\r\n      data: {\r\n          userName: user\r\n      }\r\n    })\r\n  .then(function (response) {\r\n    // handle success\r\n    console.log(response.data);\r\n  })\r\n  .catch(function (error) {\r\n    // handle error\r\n    console.log(error);\r\n  })\r\n  .then(() => {\r\n   \r\n  });\r\n  \r\n}\r\ncomponentWillMount(){\r\n  this.assignData();\r\n}\r\n\r\n\r\n  render() {\r\n    const selectRow = {\r\n        mode: 'checkbox',\r\n        hideSelectAll: true,\r\n        clickToSelect: true,\r\n        bgColor: (row, rowIndex) => (rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF'),\r\n        clickToEdit: true,\r\n        onSelect: (row, isSelect, rowIndex, e) => {\r\n            if(isSelect === true){\r\n               let copiedUsers = this.state.selectedUsers;\r\n               copiedUsers.push(row.username);\r\n               this.setState({selectedUsers: copiedUsers});\r\n              }\r\n              if(isSelect === false){\r\n                let copiedUsers = this.state.selectedUsers;\r\n                copiedUsers.splice(this.state.selectedUsers.indexOf(row.username),1);\r\n                this.setState({selectedUsers: copiedUsers});\r\n              }\r\n             console.log(row.rowKey);\r\n          \r\n        }\r\n    }\r\n      return (\r\n        <Container >\r\n            <Row>\r\n                <Col  md={{ span: 6, offset: 5}}>\r\n                <Button    variant=\"danger\" size=\"lg\" active onClick = {this.deleteUsers} >\r\n                        Delete Selected Users\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        \r\n        <Row>\r\n       <Col  md={{ span: 6, offset: 3}}>\r\n       <BootstrapTable keyField = 'username' selectRow = {selectRow}  data = {this.state.users} columns = {this.state.columns}  \r\n         pagination={ paginationFactory() }\r\n           >\r\n\r\n\r\n    </BootstrapTable>\r\n    </Col>\r\n    </Row>\r\n    </Container>\r\n      );\r\n    }\r\n    \r\n    \r\n  \r\n}\r\n\r\nexport default ViewUser;"]},"metadata":{},"sourceType":"module"}