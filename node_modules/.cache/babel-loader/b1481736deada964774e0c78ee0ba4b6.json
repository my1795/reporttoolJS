{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\musyil\\\\reportengine\\\\src\\\\components\\\\SearchPage.js\";\nimport React, { Component } from 'react'; //import './App.css';\n\nimport { Container } from 'react-bootstrap';\nimport { Button } from 'react-bootstrap';\nimport { Row } from 'react-bootstrap';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter, dateFilter } from 'react-bootstrap-table2-filter';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\n\nvar SearchPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchPage, _Component);\n\n  function SearchPage(props) {\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchPage).call(this, props));\n    _this.state = {\n      fieldcolumns: [{\n        dataField: 'pname',\n        text: 'Problem Name',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field1',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field2',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field3',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field4',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field5',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field6',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field7',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field8',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }, {\n        dataField: 'field9',\n        text: '',\n        headerAlign: '',\n        headerStyle: {\n          backgroundColor: '#00ff00',\n          width: '100px'\n        },\n        hidden: false\n      }],\n      fielddata: [],\n      columns: [{\n        dataField: 'generalinfo_id',\n        text: 'Info     ID',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'fromcompletedby',\n        text: 'Completed By',\n        headerAlign: 'center',\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'gpsproduct',\n        text: 'Product',\n        headerAlign: 'center',\n        filter: textFilter(),\n        editor: {\n          type: Type.SELECT,\n          options: [{\n            value: 'E',\n            label: 'E'\n          }]\n        },\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'startdate',\n        text: 'Date',\n        headerAlign: 'center',\n        filter: dateFilter(),\n        editable: false,\n        editor: {\n          type: Type.DATE\n        },\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'caseid',\n        text: 'Case        ID',\n        sort: true,\n        filter: textFilter(),\n        headerFormatter: _this.caseIDFormatter,\n        headerAlign: 'center',\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'customername',\n        text: 'Customer Name',\n        headerAlign: 'center',\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }, {\n        dataField: 'description',\n        text: 'Description',\n        headerAlign: 'center',\n        filter: textFilter(),\n        editor: {\n          type: Type.TEXTAREA\n        },\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '250px'\n        }\n      }, {\n        dataField: 'pname',\n        text: 'Problem     Name',\n        headerAlign: 'center',\n        filter: textFilter(),\n        editor: {\n          type: Type.SELECT,\n          options: [{\n            value: 'E',\n            label: 'E'\n          }]\n        },\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '100px'\n        }\n      }],\n      selectedRows: [],\n      generalinfo: []\n    };\n    _this.handleSelected = _this.handleSelected.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveChanges = _this.saveChanges.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteRows = _this.deleteRows.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"caseIDFormatter\",\n    value: function caseIDFormatter(column, colIndex, _ref) {\n      var sortElement = _ref.sortElement,\n          filterElement = _ref.filterElement;\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, filterElement, column.text, sortElement);\n    }\n  }, {\n    key: \"handleSelected\",\n    value: function handleSelected() {\n      console.log(this.state.generalinfo.dataField);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.assignGeneralInfo();\n      this.assingProductBox();\n      this.assignProblemBox();\n    }\n  }, {\n    key: \"deleteRows\",\n    value: function deleteRows() {\n      var l = this.state.selectedRows.length;\n      var r = l > 1 ? \"reports\" : \"report\";\n\n      if (window.confirm(\"Are you sure to delete \" + l + \" \" + r + \" ?\")) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.state.selectedRows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var row = _step.value;\n            this.deleteRow(row);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        this.assignGeneralInfo();\n        this.forceUpdate();\n      } else {\n        this.setState({\n          selectedRows: []\n        });\n      }\n\n      alert(\"Deleted\");\n    }\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow(generalinfo_id) {\n      var axios = require('axios');\n\n      axios.post(\"http://localhost:4000/generalinfo/remove?generalinfo_id=\".concat(generalinfo_id), {\n        headers: {\n          \"Content-Type\": \"text/plain\"\n        },\n        method: 'POST',\n        data: \"delete sent\"\n      }).then(function (response) {\n        // handle success\n        console.log(response.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {});\n    }\n  }, {\n    key: \"saveChanges\",\n    value: function saveChanges(generalinfo_id, fromcompletedby, gpsproduct, startdate, caseid, customername, description, pname) {\n      var axios = require('axios');\n\n      axios.post(\"http://localhost:4000/generalinfo/update?generalinfo_id=\".concat(generalinfo_id, \"&startdate=\").concat(startdate, \"&caseid=\").concat(caseid, \"\\n      &gpsproduct=\").concat(gpsproduct, \"&fromcompletedby=\").concat(fromcompletedby, \"&customername=\").concat(customername, \"&pname=\").concat(pname), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: 'POST',\n        data: {\n          description: description\n        }\n      }).then(function (response) {\n        // handle success\n        console.log(response.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {});\n      alert(\"changes saved\");\n    }\n  }, {\n    key: \"assignGeneralInfo\",\n    value: function assignGeneralInfo() {\n      var _this2 = this;\n\n      fetch('http://localhost:4000/generalinfo').then(function (response) {\n        return response.json();\n      }).then(function (_ref2) {\n        var data = _ref2.data;\n\n        _this2.setState({\n          generalinfo: data\n        });\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"assingProductBox\",\n    value: function assingProductBox() {\n      var _this3 = this;\n\n      var products = [];\n      var opt = [];\n      fetch('http://localhost:4000/products').then(function (response) {\n        return response.json();\n      }).then(function (_ref3) {\n        var data = _ref3.data;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var el = _step2.value;\n            products.push(el.productname);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }).then(function () {\n        for (var k = 0; k < products.length; k++) {\n          opt.push({\n            value: products[k],\n            label: products[k]\n          });\n        }\n\n        var copy = _this3.state.columns.slice();\n\n        copy[2].editor.options = opt;\n\n        _this3.setState({\n          columns: copy\n        });\n\n        console.log(opt[0]);\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"assignProblemBox\",\n    value: function assignProblemBox() {\n      var _this4 = this;\n\n      var problems = [];\n      var opt = [];\n      fetch('http://localhost:4000/problems').then(function (response) {\n        return response.json();\n      }).then(function (_ref4) {\n        var data = _ref4.data;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var el = _step3.value;\n            problems.push(el.problemname);\n            console.log(el.problemname);\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      }).then(function () {\n        for (var k = 0; k < problems.length; k++) {\n          opt.push({\n            value: problems[k],\n            label: problems[k]\n          });\n        }\n\n        var copy = _this4.state.columns.slice();\n\n        copy[7].editor.options = opt;\n\n        _this4.setState({\n          columns: copy\n        });\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"arrangeExpand\",\n    value: function arrangeExpand(pname) {\n      var _this5 = this;\n\n      fetch(\"http://localhost:4000/problemfields?pname=\".concat(pname)).then(function (response) {\n        return response.json();\n      }).then(function (_ref5) {\n        var data = _ref5.data;\n        var sortedValues = Object.values(data[0]);\n\n        var copiedfieldcolumns = _this5.state.fieldcolumns.slice();\n\n        for (var i = 1; i < sortedValues.length; i++) {\n          if (sortedValues[i] === null) {\n            copiedfieldcolumns[i].hidden = true;\n          } else {\n            copiedfieldcolumns[i].hidden = false;\n            copiedfieldcolumns[i].text = sortedValues[i];\n          }\n        }\n\n        _this5.setState({\n          fieldcolumns: copiedfieldcolumns\n        });\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"setFieldContents\",\n    value: function setFieldContents(caseid) {\n      var _this6 = this;\n\n      fetch(\"http://localhost:4000/fieldcontents?caseid=\".concat(caseid)).then(function (response) {\n        return response.json();\n      }).then(function (_ref6) {\n        var data = _ref6.data;\n\n        _this6.setState({\n          fielddata: data\n        });\n\n        _this6.arrangeExpand(data[0].pname);\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var expandRow = {\n        renderer: function renderer(row) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 374\n            },\n            __self: this\n          }, React.createElement(Container, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 376\n            },\n            __self: this\n          }, React.createElement(BootstrapTable, {\n            keyField: \"caseid\",\n            data: _this7.state.fielddata,\n            columns: _this7.state.fieldcolumns,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 377\n            },\n            __self: this\n          })));\n        }\n      };\n      var selectRow = {\n        mode: 'checkbox',\n        clickToSelect: true,\n        bgColor: function bgColor(row, rowIndex) {\n          return rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF';\n        },\n        clickToExpand: true,\n        clickToEdit: true,\n        onSelect: function onSelect(row, isSelect, rowIndex, e) {\n          console.log(row);\n\n          if (isSelect === true) {\n            _this7.state.selectedRows.push(row.generalinfo_id);\n\n            _this7.setFieldContents(row.caseid);\n          }\n\n          if (isSelect === false) {\n            _this7.state.selectedRows.splice(_this7.state.selectedRows.indexOf(row.generalinfo_id), 1);\n          }\n        },\n        onSelectAll: function onSelectAll(isSelect, rows, e) {\n          if (isSelect === true) {\n            for (var i = 0; i < rows.length; i++) {\n              _this7.state.selectedRows.push(rows[i].generalinfo_id);\n\n              _this7.setFieldContents(rows[i].caseid);\n            }\n          }\n\n          if (isSelect === false) {\n            for (var _i = 0; _i < rows.length; _i++) {\n              _this7.state.selectedRows.splice(_this7.state.selectedRows.indexOf(rows[_i].generalinfo_id), 1);\n            }\n          }\n\n          console.log(rows);\n        }\n      };\n      var cellEdit = {\n        mode: 'click'\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.deleteRows,\n        variant: \"danger\",\n        size: \"lg\",\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, \"Delete Selected Rows\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        keyField: \"generalinfo_id\",\n        filter: filterFactory(),\n        selectRow: selectRow,\n        data: this.state.generalinfo,\n        columns: this.state.columns,\n        striped: true,\n        hover: true,\n        condensed: true,\n        expandRow: expandRow,\n        cellEdit: cellEditFactory({\n          mode: 'dbclick',\n          blurToSave: true,\n          afterSaveCell: function afterSaveCell(oldValue, newValue, row, column) {\n            // insert buradan yapılacak database e atılacak delete selected kısmına dikkat.\n            console.log(oldValue);\n            console.log(newValue);\n            console.log(row.generalinfo_id);\n            console.log(row.rowKey);\n\n            _this7.saveChanges(row.generalinfo_id, row.fromcompletedby, row.gpsproduct, row.startdate, row.caseid, row.customername, row.description, row.pname);\n          }\n        }),\n        pagination: paginationFactory(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SearchPage;\n}(Component);\n\nexport default SearchPage;","map":{"version":3,"sources":["D:\\Users\\musyil\\reportengine\\src\\components\\SearchPage.js"],"names":["React","Component","Container","Button","Row","BootstrapTable","filterFactory","textFilter","dateFilter","paginationFactory","cellEditFactory","Type","SearchPage","props","state","fieldcolumns","dataField","text","headerAlign","headerStyle","backgroundColor","width","hidden","fielddata","columns","sort","filter","editor","type","SELECT","options","value","label","editable","DATE","headerFormatter","caseIDFormatter","TEXTAREA","selectedRows","generalinfo","handleSelected","bind","saveChanges","deleteRows","column","colIndex","sortElement","filterElement","display","flexDirection","console","log","assignGeneralInfo","assingProductBox","assignProblemBox","l","length","r","window","confirm","row","deleteRow","forceUpdate","setState","alert","generalinfo_id","axios","require","post","headers","method","data","then","response","catch","error","fromcompletedby","gpsproduct","startdate","caseid","customername","description","pname","fetch","json","err","products","opt","el","push","productname","k","copy","slice","problems","problemname","sortedValues","Object","values","copiedfieldcolumns","i","arrangeExpand","expandRow","renderer","selectRow","mode","clickToSelect","bgColor","rowIndex","clickToExpand","clickToEdit","onSelect","isSelect","e","setFieldContents","splice","indexOf","onSelectAll","rows","cellEdit","blurToSave","afterSaveCell","oldValue","newValue","rowKey"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import './App.css';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Row } from 'react-bootstrap';\r\n\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory, { textFilter, dateFilter } from 'react-bootstrap-table2-filter';\r\n\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css'\r\n\r\n\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nclass SearchPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fieldcolumns: [\r\n        {\r\n          dataField: 'pname',\r\n          text: 'Problem Name',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field1',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field2',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field3',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field4',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field5',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field6',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field7',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field8',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        },\r\n        {\r\n          dataField: 'field9',\r\n          text: '',\r\n          headerAlign: '',\r\n          headerStyle: { backgroundColor: '#00ff00', width: '100px' },\r\n          hidden: false\r\n        }\r\n      ],\r\n      fielddata: [],\r\n      columns: [{\r\n        dataField: 'generalinfo_id',\r\n        text: 'Info     ID',\r\n        headerAlign: 'center',\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      }, {\r\n        dataField: 'fromcompletedby',\r\n        text: 'Completed By',\r\n        headerAlign: 'center',\r\n        filter: textFilter(),\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      }, {\r\n        dataField: 'gpsproduct',\r\n        text: 'Product',\r\n        headerAlign: 'center',\r\n        filter: textFilter(),\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [{\r\n\r\n            value: 'E',\r\n            label: 'E'\r\n          }]\r\n        },\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      },\r\n      {\r\n        dataField: 'startdate',\r\n        text: 'Date',\r\n        headerAlign: 'center',\r\n        filter: dateFilter(),\r\n        editable: false,\r\n        editor: {\r\n          type: Type.DATE\r\n        },\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      },\r\n      {\r\n        dataField: 'caseid',\r\n        text: 'Case        ID',\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerFormatter: this.caseIDFormatter,\r\n        headerAlign: 'center',\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      },\r\n      {\r\n        dataField: 'customername',\r\n        text: 'Customer Name',\r\n        headerAlign: 'center',\r\n        filter: textFilter(),\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      },\r\n      {\r\n        dataField: 'description',\r\n        text: 'Description',\r\n        headerAlign: 'center',\r\n        filter: textFilter(),\r\n        editor: {\r\n          type: Type.TEXTAREA\r\n        },\r\n        headerStyle: { backgroundColor: '#81c784', width: '250px' }\r\n      },\r\n      {\r\n        dataField: 'pname',\r\n        text: 'Problem     Name',\r\n        headerAlign: 'center',\r\n        filter: textFilter(),\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [{\r\n\r\n            value: 'E',\r\n            label: 'E'\r\n          }]\r\n        },\r\n        headerStyle: { backgroundColor: '#81c784', width: '100px' }\r\n      }\r\n\r\n\r\n      ],\r\n\r\n      selectedRows: [],\r\n\r\n      generalinfo: [\r\n\r\n      ],\r\n\r\n\r\n    }\r\n    this.handleSelected = this.handleSelected.bind(this);\r\n    this.saveChanges = this.saveChanges.bind(this);\r\n    this.deleteRows = this.deleteRows.bind(this);\r\n  }\r\n\r\n\r\n  caseIDFormatter(column, colIndex, { sortElement, filterElement }) {\r\n    return (\r\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n        {filterElement}\r\n        {column.text}\r\n        {sortElement}\r\n      </div>\r\n    );\r\n  }\r\n  handleSelected() {\r\n    console.log(this.state.generalinfo.dataField);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.assignGeneralInfo();\r\n    this.assingProductBox();\r\n    this.assignProblemBox();\r\n  }\r\n\r\n  deleteRows() {\r\n    let l = this.state.selectedRows.length;\r\n    let r = (l > 1) ? \"reports\" : \"report\";\r\n    if (window.confirm(\"Are you sure to delete \" + l + \" \" + r + \" ?\")) {\r\n      for (let row of this.state.selectedRows) {\r\n        this.deleteRow(row);\r\n      }\r\n      this.assignGeneralInfo();\r\n      this.forceUpdate();\r\n    } else {\r\n      this.setState({ selectedRows: [] });\r\n    }\r\n    alert(\"Deleted\");\r\n\r\n  }\r\n  deleteRow(generalinfo_id) {\r\n    const axios = require('axios');\r\n    axios.post(`http://localhost:4000/generalinfo/remove?generalinfo_id=${generalinfo_id}`, {\r\n      headers: { \"Content-Type\": \"text/plain\" },\r\n      method: 'POST',\r\n      data: \"delete sent\"\r\n    })\r\n      .then(function (response) {\r\n        // handle success\r\n        console.log(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n\r\n\r\n      });\r\n\r\n\r\n  }\r\n  saveChanges(generalinfo_id, fromcompletedby, gpsproduct, startdate, caseid, customername, description, pname) {\r\n    const axios = require('axios');\r\n    axios.post(`http://localhost:4000/generalinfo/update?generalinfo_id=${generalinfo_id}&startdate=${startdate}&caseid=${caseid}\r\n      &gpsproduct=${gpsproduct}&fromcompletedby=${fromcompletedby}&customername=${customername}&pname=${pname}`, {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        method: 'POST',\r\n        data: {\r\n          description: description\r\n        }\r\n      })\r\n      .then(function (response) {\r\n        // handle success\r\n        console.log(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n\r\n\r\n      });\r\n    alert(\"changes saved\");\r\n\r\n  }\r\n  assignGeneralInfo() {\r\n\r\n    fetch('http://localhost:4000/generalinfo')\r\n      .then(response => response.json())\r\n      .then(({ data }) => {\r\n        this.setState({ generalinfo: data })\r\n\r\n      })\r\n      .catch(err => console.error()\r\n      )\r\n  }\r\n  assingProductBox() {\r\n    let products = [];\r\n    let opt = [];\r\n    fetch('http://localhost:4000/products')\r\n      .then(response => response.json())\r\n      .then(({ data }) => {\r\n        for (var el of data) {\r\n          products.push(el.productname);\r\n\r\n        }\r\n\r\n      })\r\n      .then(() => {\r\n        for (var k = 0; k < products.length; k++) {\r\n          opt.push({ value: products[k], label: products[k] });\r\n        }\r\n        var copy = this.state.columns.slice();\r\n        copy[2].editor.options = opt;\r\n        this.setState({ columns: copy });\r\n        console.log(opt[0]);\r\n      })\r\n      .catch(err => console.error()\r\n      )\r\n\r\n\r\n  }\r\n  assignProblemBox() {\r\n    let problems = [];\r\n    let opt = [];\r\n    fetch('http://localhost:4000/problems')\r\n      .then(response => response.json())\r\n      .then(({ data }) => {\r\n        for (var el of data) {\r\n          problems.push(el.problemname);\r\n          console.log(el.problemname);\r\n        }\r\n\r\n      })\r\n      .then(() => {\r\n        for (var k = 0; k < problems.length; k++) {\r\n          opt.push({ value: problems[k], label: problems[k] });\r\n        }\r\n        var copy = this.state.columns.slice();\r\n        copy[7].editor.options = opt;\r\n        this.setState({ columns: copy });\r\n      })\r\n      .catch(err => console.error()\r\n      )\r\n\r\n\r\n  }\r\n  arrangeExpand(pname) {\r\n    fetch(`http://localhost:4000/problemfields?pname=${pname}`)\r\n      .then(response => response.json())\r\n      .then(({ data }) => {\r\n        var sortedValues = Object.values(data[0]);\r\n        var copiedfieldcolumns = this.state.fieldcolumns.slice();\r\n\r\n\r\n\r\n        for (let i = 1; i < sortedValues.length; i++) {\r\n\r\n          if (sortedValues[i] === null) {\r\n            copiedfieldcolumns[i].hidden = true;\r\n\r\n          }\r\n          else {\r\n            copiedfieldcolumns[i].hidden = false;\r\n            copiedfieldcolumns[i].text = sortedValues[i];\r\n\r\n          }\r\n        }\r\n        this.setState({ fieldcolumns: copiedfieldcolumns });\r\n      })\r\n      .catch(err => console.error()\r\n      )\r\n  }\r\n\r\n  setFieldContents(caseid) {\r\n    fetch(`http://localhost:4000/fieldcontents?caseid=${caseid}`)\r\n      .then(response => response.json())\r\n      .then(({ data }) => {\r\n        this.setState({ fielddata: data });\r\n        this.arrangeExpand(data[0].pname)\r\n      })\r\n      .catch(err => console.error()\r\n      )\r\n  }\r\n  render() {\r\n    const expandRow = {\r\n      renderer: row => (\r\n\r\n        <div>\r\n\r\n          <Container>\r\n            <BootstrapTable keyField='caseid' data={this.state.fielddata} columns={this.state.fieldcolumns} />\r\n          </Container>\r\n\r\n        </div>\r\n      )\r\n    };\r\n\r\n    const selectRow = {\r\n      mode: 'checkbox',\r\n      clickToSelect: true,\r\n      bgColor: (row, rowIndex) => (rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF'),\r\n      clickToExpand: true,\r\n      clickToEdit: true,\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        console.log(row);\r\n        if (isSelect === true) {\r\n          this.state.selectedRows.push(row.generalinfo_id);\r\n\r\n          this.setFieldContents(row.caseid);\r\n        }\r\n        if (isSelect === false) {\r\n          this.state.selectedRows.splice(this.state.selectedRows.indexOf(row.generalinfo_id), 1);\r\n        }\r\n\r\n\r\n      },\r\n      onSelectAll: (isSelect, rows, e) => {\r\n        if (isSelect === true) {\r\n          for (let i = 0; i < rows.length; i++) {\r\n            this.state.selectedRows.push(rows[i].generalinfo_id);\r\n\r\n            this.setFieldContents(rows[i].caseid);\r\n          }\r\n        }\r\n        if (isSelect === false) {\r\n          for (let i = 0; i < rows.length; i++) {\r\n            this.state.selectedRows.splice(this.state.selectedRows.indexOf(rows[i].generalinfo_id), 1);\r\n          }\r\n        }\r\n        console.log(rows);\r\n      }\r\n    };\r\n    const cellEdit = {\r\n      mode: 'click'\r\n    };\r\n\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n        <Container>\r\n\r\n          <Row>\r\n            <Button onClick={this.deleteRows} variant=\"danger\" size=\"lg\" active >\r\n              Delete Selected Rows\r\n         </Button>\r\n\r\n\r\n          </Row>\r\n          <hr></hr>\r\n          <Row>\r\n            <BootstrapTable keyField='generalinfo_id' filter={filterFactory()} selectRow={selectRow}\r\n\r\n              data={this.state.generalinfo} columns={this.state.columns}\r\n              striped hover condensed\r\n              expandRow={expandRow}\r\n              cellEdit={cellEditFactory({\r\n                mode: 'dbclick', blurToSave: true,\r\n                afterSaveCell: (oldValue, newValue, row, column) => {\r\n                  // insert buradan yapılacak database e atılacak delete selected kısmına dikkat.\r\n                  console.log(oldValue);\r\n                  console.log(newValue);\r\n                  console.log(row.generalinfo_id);\r\n\r\n                  console.log(row.rowKey);\r\n                  this.saveChanges(row.generalinfo_id, row.fromcompletedby, row.gpsproduct, row.startdate, row.caseid, row.customername, row.description, row.pname)\r\n                }\r\n              })}\r\n              pagination={paginationFactory()}\r\n            >\r\n\r\n\r\n            </BootstrapTable>\r\n\r\n          </Row>\r\n\r\n        </Container>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default SearchPage;\r\n"]},"metadata":{},"sourceType":"module"}