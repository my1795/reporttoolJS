{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\musyil\\\\reportengine\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\musyil\\\\reportengine\\\\src\\\\components\\\\ViewUser.js\";\nimport React, { Component } from 'react';\nimport { Form, Row, Col, Container, Button } from 'react-bootstrap';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter, dateFilter } from 'react-bootstrap-table2-filter';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\n\nvar axios = require('axios');\n\nvar ViewUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewUser, _Component);\n\n  function ViewUser(props) {\n    var _this;\n\n    _classCallCheck(this, ViewUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewUser).call(this, props));\n    _this.state = {\n      columns: [{\n        dataField: 'adminname',\n        text: 'Admin Name',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }, {\n        dataField: 'username',\n        text: 'User Name',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }, {\n        dataField: 'userpassword',\n        text: 'User Password',\n        headerAlign: 'center',\n        sort: true,\n        filter: textFilter(),\n        headerStyle: {\n          backgroundColor: '#81c784',\n          width: '150px'\n        }\n      }],\n      users: [],\n      selectedUsers: []\n    };\n    _this.deleteUser = _this.deleteUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewUser, [{\n    key: \"assignData\",\n    value: function assignData() {\n      var _this2 = this;\n\n      fetch('http://localhost:4000/allusers').then(function (response) {\n        return response.json();\n      }).then(function (_ref) {\n        var data = _ref.data;\n        console.log(data);\n\n        _this2.setState({\n          users: data\n        });\n      }).catch(function (err) {\n        return console.error();\n      });\n    }\n  }, {\n    key: \"deleteUsers\",\n    value: function deleteUsers() {\n      var copySelected = this.state.selectedUsers; // for(let user of copySelected){\n      //     this.deleteUser(user);\n      // }\n\n      console.log(copySelected[0]);\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser() {\n      var _this3 = this;\n\n      //let us = this.state.selectedUsers[0];\n      axios.post(\"http://localhost:4000/users/remove\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: 'POST',\n        data: {\n          userName: this.state.selectedUsers.pop()\n        }\n      }).then(function (response) {\n        // handle success\n        console.log(response.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {\n        _this3.assignData();\n\n        alert(\"Deleted\");\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.assignData();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.assignData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var selectRow = {\n        mode: 'checkbox',\n        hideSelectAll: true,\n        clickToSelect: true,\n        bgColor: function bgColor(row, rowIndex) {\n          return rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF';\n        },\n        clickToEdit: true,\n        onSelect: function onSelect(row, isSelect, rowIndex, e) {\n          if (isSelect === true) {\n            var copiedUsers = _this4.state.selectedUsers;\n            copiedUsers.push(row.username);\n\n            _this4.setState({\n              selectedUsers: copiedUsers\n            });\n          }\n\n          if (isSelect === false) {\n            var _copiedUsers = _this4.state.selectedUsers;\n\n            _copiedUsers.splice(_this4.state.selectedUsers.indexOf(row.username), 1);\n\n            _this4.setState({\n              selectedUsers: _copiedUsers\n            });\n          }\n\n          console.log(row.rowKey);\n        }\n      };\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: {\n          span: 6,\n          offset: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"danger\",\n        size: \"lg\",\n        active: true,\n        onClick: this.deleteUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Delete Selected Users\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: {\n          span: 6,\n          offset: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        keyField: \"username\",\n        selectRow: selectRow,\n        data: this.state.users,\n        columns: this.state.columns,\n        pagination: paginationFactory(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ViewUser;\n}(Component);\n\nexport default ViewUser;","map":{"version":3,"sources":["D:\\Users\\musyil\\reportengine\\src\\components\\ViewUser.js"],"names":["React","Component","Form","Row","Col","Container","Button","BootstrapTable","filterFactory","textFilter","dateFilter","paginationFactory","axios","require","ViewUser","props","state","columns","dataField","text","headerAlign","sort","filter","headerStyle","backgroundColor","width","users","selectedUsers","deleteUser","bind","fetch","then","response","json","data","console","log","setState","catch","err","error","copySelected","post","headers","method","userName","pop","assignData","alert","selectRow","mode","hideSelectAll","clickToSelect","bgColor","row","rowIndex","clickToEdit","onSelect","isSelect","e","copiedUsers","push","username","splice","indexOf","rowKey","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Row,Col ,Container,Button} from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory, { textFilter, dateFilter} from 'react-bootstrap-table2-filter';\r\n\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css'\r\nconst axios = require('axios');\r\nclass ViewUser extends Component {\r\n\r\n\r\nconstructor(props){\r\n  super(props);\r\n  this.state = {\r\n    columns: [\r\n        {\r\n          dataField: 'adminname',\r\n          text: 'Admin Name',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n        {\r\n          dataField: 'username',\r\n          text: 'User Name',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n        {\r\n          dataField: 'userpassword',\r\n          text: 'User Password',\r\n          headerAlign: 'center',\r\n          sort: true,\r\n          filter: textFilter(),\r\n          headerStyle:{ backgroundColor: '#81c784',width:'150px'}\r\n        },\r\n       ],\r\n       users : [],\r\n       selectedUsers: []\r\n  }\r\nthis.deleteUser = this.deleteUser.bind(this);\r\n\r\n}\r\nassignData(){\r\n\r\n  fetch('http://localhost:4000/allusers')\r\n  .then(response => response.json())\r\n  .then(({ data }) => {\r\n    console.log(data);\r\n    this.setState({users : data})\r\n    \r\n  })\r\n  .catch(err => console.error()\r\n  )\r\n }\r\ndeleteUsers(){\r\n  var copySelected = this.state.selectedUsers;\r\n    // for(let user of copySelected){\r\n    //     this.deleteUser(user);\r\n    // }\r\n console.log(copySelected[0]);\r\n}\r\ndeleteUser(){\r\n    //let us = this.state.selectedUsers[0];\r\n    axios.post(`http://localhost:4000/users/remove`,{\r\n      headers: {\"Content-Type\": \"application/json\"},\r\n      method: 'POST',\r\n      data: {\r\n          userName: this.state.selectedUsers.pop()\r\n      }\r\n    })\r\n  .then(function (response) {\r\n    // handle success\r\n    console.log(response.data);\r\n  })\r\n  .catch(function (error) {\r\n    // handle error\r\n    console.log(error);\r\n  })\r\n  .then(() => {\r\n    this.assignData();\r\n    alert(\"Deleted\");\r\n  });\r\n  \r\n}\r\ncomponentDidMount(){\r\n    this.assignData();\r\n   }\r\ncomponentWillMount(){\r\n  this.assignData();\r\n}\r\n\r\n\r\n  render() {\r\n    const selectRow = {\r\n        mode: 'checkbox',\r\n        hideSelectAll: true,\r\n        clickToSelect: true,\r\n        bgColor: (row, rowIndex) => (rowIndex % 2 == 0 ? '#00BFFF' : '#00FFFF'),\r\n        clickToEdit: true,\r\n        onSelect: (row, isSelect, rowIndex, e) => {\r\n            if(isSelect === true){\r\n               let copiedUsers = this.state.selectedUsers;\r\n               copiedUsers.push(row.username);\r\n               this.setState({selectedUsers: copiedUsers});\r\n              }\r\n              if(isSelect === false){\r\n                let copiedUsers = this.state.selectedUsers;\r\n                copiedUsers.splice(this.state.selectedUsers.indexOf(row.username),1);\r\n                this.setState({selectedUsers: copiedUsers});\r\n              }\r\n             console.log(row.rowKey);\r\n          \r\n        }\r\n    }\r\n      return (\r\n        <Container >\r\n            <Row>\r\n                <Col  md={{ span: 6, offset: 5}}>\r\n                <Button    variant=\"danger\" size=\"lg\" active onClick = {this.deleteUser} >\r\n                        Delete Selected Users\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        \r\n        <Row>\r\n       <Col  md={{ span: 6, offset: 3}}>\r\n       <BootstrapTable keyField = 'username' selectRow = {selectRow}  data = {this.state.users} columns = {this.state.columns}  \r\n         pagination={ paginationFactory() }\r\n           >\r\n\r\n\r\n    </BootstrapTable>\r\n    </Col>\r\n    </Row>\r\n    </Container>\r\n      );\r\n    }\r\n    \r\n    \r\n  \r\n}\r\n\r\nexport default ViewUser;"]},"metadata":{},"sourceType":"module"}